<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>IntervalTreeLeaf.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenNARS Logic Reasoner</a> &gt; <a href="index.source.html" class="el_package">nars.util.time</a> &gt; <span class="el_source">IntervalTreeLeaf.java</span></div><h1>IntervalTreeLeaf.java</h1><pre class="source lang-java linenums">package nars.util.time;

import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import java.util.Collection;
import java.util.Map.Entry;
import java.util.Set;
import java.util.function.Consumer;

class IntervalTreeLeaf&lt;K extends Comparable&lt;? super K&gt;,V&gt; implements IntervalTreeNode&lt;K, V&gt;, Entry&lt;Between&lt;K&gt;, V&gt; {
	
	private final Between&lt;K&gt; key;
	private V value;
	
	IntervalTreeLeaf(K min, K max, V value) {
<span class="nc" id="L17">		this(new Between&lt;&gt;(min, max),value);</span>
<span class="nc" id="L18">	}</span>

<span class="fc" id="L20">	public IntervalTreeLeaf(Between&lt;K&gt; key, V value) {</span>
<span class="fc" id="L21">		this.key = key;</span>
<span class="fc" id="L22">		this.value = value;</span>
<span class="fc" id="L23">	}</span>

	@NotNull
	@Override
	public String toString() {
<span class="nc" id="L28">		return key + &quot;=&quot; + value;</span>
	}

	@Override
	public final boolean isLeaf() {
<span class="nc" id="L33">		return true;</span>
	}

	@NotNull
	@Override
	public IntervalTreeNode&lt;K, V&gt; getLeft() {
<span class="nc" id="L39">		throw new UnsupportedOperationException();</span>
	}

	@NotNull
	@Override
	public IntervalTreeNode&lt;K, V&gt; getRight() {
<span class="nc" id="L45">		throw new UnsupportedOperationException();</span>
	}

	@Override
	public boolean contains(@NotNull K point) {
<span class="nc" id="L50">		return key.contains(point);</span>
	}
	
	@Override
	public boolean contains(@NotNull Between&lt;K&gt; interval) {
<span class="fc" id="L55">		return key.contains(interval);</span>
	}

	@Override
	public boolean overlaps(@NotNull K low, @NotNull K high) {
<span class="nc" id="L60">		return key.overlaps(low,high);</span>
	}

	@Override
	public boolean overlaps(@NotNull Between&lt;K&gt; interval) {
<span class="fc" id="L65">		return key.overlaps(interval);</span>
	}

	@Override
	public final K getLow() {
<span class="fc" id="L70">		return key.getLow();</span>
	}

	@Override
	public final K getHigh() {
<span class="fc" id="L75">		return key.getHigh();</span>
	}

	@Override
	public final V getValue() {
<span class="fc" id="L80">		return value;</span>
	}

	@NotNull
	@Override
	public IntervalTreeNode&lt;K, V&gt; put(@NotNull Between&lt;K&gt; key, V value) {
<span class="fc" id="L86">		IntervalTreeNode&lt;K, V&gt; putNode = new IntervalTreeLeaf&lt;&gt;(key, value);</span>
<span class="pc bpc" id="L87" title="1 of 2 branches missed.">		return this.key.getLow().compareTo(key.getLow()) &lt; 0 ? new IntervalTreeBranch&lt;&gt;(this, putNode) : new IntervalTreeBranch&lt;&gt;(putNode, this);</span>
	}

	@Override
	public final V getEqual(@NotNull Between&lt;K&gt; range) {
<span class="nc bnc" id="L92" title="All 4 branches missed.">		if (getLow().equals(range.getLow()) &amp;&amp; getHigh().equals(range.getHigh())) {</span>
<span class="nc" id="L93">			return getValue();</span>
		}
<span class="nc" id="L95">		return null;</span>
	}


	@Nullable
	@Override
	public V getContain(@NotNull Between&lt;K&gt; range) {
<span class="nc bnc" id="L102" title="All 2 branches missed.">		if (range.contains(key)) {</span>
<span class="nc" id="L103">			return getValue();</span>
		}
<span class="nc" id="L105">		return null;</span>
	}


	@Override
	public final void getOverlap(@NotNull Between&lt;K&gt; range, @NotNull Consumer&lt;V&gt; accumulator) {
<span class="nc bnc" id="L111" title="All 2 branches missed.">		if(range.overlaps(key)){</span>
<span class="nc" id="L112">			accumulator.accept(getValue());</span>
		}
<span class="nc" id="L114">	}</span>

	@Override
	public final void getOverlap(@NotNull Between&lt;K&gt; range,
								 @NotNull Collection&lt;V&gt; accumulator) {
<span class="pc bpc" id="L119" title="1 of 2 branches missed.">		if(range.overlaps(key)){</span>
<span class="fc" id="L120">			accumulator.add(getValue());</span>
		}
<span class="fc" id="L122">	}</span>

	@Override
	public void getContain(@NotNull Between&lt;K&gt; range,
						   @NotNull Collection&lt;V&gt; accumulator) {
<span class="fc bfc" id="L127" title="All 2 branches covered.">		if(key.contains(range)){</span>
<span class="fc" id="L128">			accumulator.add(getValue());</span>
		}
<span class="fc" id="L130">	}</span>

	@Override
	public final int size() {
<span class="nc" id="L134">		return 1;</span>
	}

	@Override
	public void values(@NotNull Collection&lt;V&gt; accumulator) {
<span class="fc" id="L139">		accumulator.add(getValue());</span>
<span class="fc" id="L140">	}</span>

	@Nullable
	@Override
	public IntervalTreeNode&lt;K, V&gt; remove(@NotNull V value) {
<span class="fc bfc" id="L145" title="All 2 branches covered.">		return value.equals(getValue()) ? null : this;</span>
	}

	@Override
	public void entrySet(@NotNull Set&lt;Entry&lt;Between&lt;K&gt;, V&gt;&gt; accumulator) {
<span class="nc" id="L150">		accumulator.add(this);</span>
<span class="nc" id="L151">	}</span>

	@Override
	public final Between&lt;K&gt; getKey() {
<span class="nc" id="L155">		return key;</span>
	}

	@Override
	public V setValue(V value) {
<span class="nc" id="L160">		return this.value = value;</span>
	}

	@Override
	public final boolean containsValue(V value) {
<span class="fc" id="L165">		return getValue().equals(value);</span>
	}

	@Override
	public void keySet(@NotNull Set&lt;Between&lt;K&gt;&gt; accumulator) {
<span class="nc" id="L170">		accumulator.add(key);</span>
<span class="nc" id="L171">	}</span>

	@Override
	public boolean containedBy(@NotNull Between&lt;K&gt; interval) {
<span class="fc" id="L175">		return interval.contains(key);</span>
	}

	@Override
	public void searchContainedBy(@NotNull Between&lt;K&gt; range, @NotNull Collection&lt;V&gt; accumulator) {
<span class="fc bfc" id="L180" title="All 2 branches covered.">		if(containedBy(range)){</span>
<span class="fc" id="L181">			accumulator.add(getValue());</span>
		}
<span class="fc" id="L183">	}</span>

	@Override
	public Between&lt;K&gt; getRange() {
<span class="nc" id="L187">		return key;</span>
	}

	@Override
	public int maxHeight() {
<span class="nc" id="L192">		return 1;</span>
	}

	@Nullable
	@Override
	public IntervalTreeNode&lt;K, V&gt; removeAll(@NotNull Collection&lt;V&gt; values) {
<span class="nc bnc" id="L198" title="All 2 branches missed.">		return values.contains(getValue()) ? null : this;</span>
	}

	@Override
	public void averageHeight(@NotNull Collection&lt;Integer&gt; heights, int currentHeight) {
<span class="nc" id="L203">		heights.add(currentHeight + 1);</span>
<span class="nc" id="L204">	}</span>



	@Nullable
	@Override
	public IntervalTreeNode&lt;K, V&gt; removeOverlapping(@NotNull Between&lt;K&gt; range) {
<span class="nc bnc" id="L211" title="All 2 branches missed.">		if(key.overlaps(range)){</span>
<span class="nc" id="L212">			return null;</span>
		}
<span class="nc" id="L214">		return this;</span>
	}

	@Nullable
	@Override
	public IntervalTreeNode&lt;K, V&gt; removeContaining(@NotNull Between&lt;K&gt; range) {
<span class="nc bnc" id="L220" title="All 2 branches missed.">		if(key.contains(range)){</span>
<span class="nc" id="L221">			return null;</span>
		}
<span class="nc" id="L223">		return this;</span>
	}

	@Nullable
	@Override
	public IntervalTreeNode&lt;K, V&gt; removeContainedBy(@NotNull Between&lt;K&gt; range) {
<span class="nc bnc" id="L229" title="All 2 branches missed.">		if(range.contains(key)){</span>
<span class="nc" id="L230">			return null;</span>
		}
<span class="nc" id="L232">		return this;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>