<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Terminal.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenNARS Logic Reasoner</a> &gt; <a href="index.source.html" class="el_package">nars.nar</a> &gt; <span class="el_source">Terminal.java</span></div><h1>Terminal.java</h1><pre class="source lang-java linenums">package nars.nar;

import nars.Memory;
import nars.NAR;
import nars.budget.Budget;
import nars.concept.Concept;
import nars.task.Task;
import nars.task.flow.FIFOTaskPerception;
import nars.term.TermIndex;
import nars.term.Termed;
import nars.time.Clock;
import nars.time.FrameClock;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import java.util.function.Consumer;
import java.util.function.Predicate;

/**
 * Terminal only executes commands and does not
 * reason.  however it will produce an event
 * stream which can be delegated to other
 * components like other NAR's
 */
public class Terminal extends AbstractNAR {

<span class="fc" id="L27">    final Predicate&lt;Task&gt; taskFilter =</span>
            Task::isCommand;

    public Terminal(TermIndex termIndex, @NotNull Clock c) {
<span class="fc" id="L31">        super(new Memory(</span>
                c,
                termIndex
                //new TrieCacheBag()
        ));

<span class="fc" id="L37">        the(&quot;input&quot;, initInput());</span>

<span class="fc" id="L39">    }</span>

    public Terminal() {
<span class="fc" id="L42">        this(</span>
            new FrameClock()
        );
        //new RealtimeMSClock());
<span class="fc" id="L46">    }</span>

    public Terminal(TermIndex i) {
<span class="nc" id="L49">        this (i, new FrameClock());</span>
<span class="nc" id="L50">    }</span>

    public Terminal(@NotNull Clock c) {
<span class="fc" id="L53">        this(TermIndex.memory(1024), c);</span>
<span class="fc" id="L54">    }</span>

    @Nullable
    @Override
    public Concept conceptualize(Termed termed, Budget activation, float scale) {
<span class="nc" id="L59">        return memory.concept(termed); //ignore activation</span>
    }

    @Override
    public float conceptPriority(Termed termed, float priIfNonExistent) {
<span class="nc" id="L64">        return 0;</span>
    }

    //    @Override
//    protected Concept doConceptualize(Term term, Budget b, float scale) {
//        Concept exists = memory.concept(term);
//        if (exists!=null) {
//            return exists;
//        }
//        else {
//            Concept c = apply(term);
//            memory.index.put(term, c);
//            return c;
//        }
//
//    }


    @Nullable
    @Override
    public NAR forEachConcept(Consumer&lt;Concept&gt; recip) {
<span class="nc" id="L85">        return null;</span>
    }

    @NotNull
    public FIFOTaskPerception initInput() {
<span class="fc" id="L90">        return new FIFOTaskPerception(this,</span>
                taskFilter,
                this::process
        );
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>