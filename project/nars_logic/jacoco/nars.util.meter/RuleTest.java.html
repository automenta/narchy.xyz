<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>RuleTest.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenNARS Logic Reasoner</a> &gt; <a href="index.source.html" class="el_package">nars.util.meter</a> &gt; <span class="el_source">RuleTest.java</span></div><h1>RuleTest.java</h1><pre class="source lang-java linenums">package nars.util.meter;

import nars.NAR;
import nars.Narsese;
import nars.nal.meta.PremiseRule;
import nars.nar.Default;
import nars.task.Task;
import org.jetbrains.annotations.NotNull;

/**
 * test an invididual premise
 */
public class RuleTest extends TestNAR {

	@NotNull
	public static RuleTest from(@NotNull PremiseRule r) {
		// TODO eventually make this handle all of r's postconditions and
		// modifiers, etc
<span class="nc" id="L19">		String task = r.task().toString();</span>
<span class="nc" id="L20">		task = task.replace(&quot;%&quot;, &quot;p&quot;); // TODO do proper term replacement</span>

<span class="nc" id="L22">		String belief = r.belief().toString();</span>
<span class="nc" id="L23">		belief = belief.replace(&quot;%&quot;, &quot;p&quot;); // TODO do proper term replacement</span>

<span class="nc" id="L25">		String conc = r.getConclusion().term(0).toString();</span>
<span class="nc" id="L26">		conc = conc.replace(&quot;%&quot;, &quot;p&quot;);</span>
<span class="nc" id="L27">		char concPunc = '.';</span>

<span class="nc" id="L29">		char beliefPunc = '.';</span>
<span class="nc" id="L30">		char taskPunc = '.';</span>
<span class="nc" id="L31">		return new RuleTest(task + taskPunc, belief + beliefPunc, conc</span>
				+ concPunc);

	}

	public RuleTest(String task, String belief, String result) {
<span class="nc" id="L37">		this(task, belief, result, 0, 1, 0, 1);</span>
<span class="nc" id="L38">	}</span>
	public RuleTest(String task, String belief, String result, float minFreq,
			float maxFreq, float minConf, float maxConf) {
<span class="fc" id="L41">		this(</span>
				// new SingleStepNAR(),
				new Default(), task, belief, result, minFreq, maxFreq, minConf,
				maxConf);
<span class="fc" id="L45">	}</span>

<span class="fc" id="L47">	static final Narsese p = Narsese.the();</span>

	public RuleTest(@NotNull NAR nar, String task, String belief, String result,
					float minFreq, float maxFreq, float minConf, float maxConf) {
<span class="fc" id="L51">		this(nar, nar.task(task), nar.task(belief), result, minFreq, maxFreq,</span>
				minConf, maxConf);

<span class="fc" id="L54">	}</span>
	public RuleTest(@NotNull NAR nar, Task task, Task belief, String result,
					float minFreq, float maxFreq, float minConf, float maxConf) {
<span class="fc" id="L57">		super(nar);</span>

<span class="fc" id="L59">		nar.input(task);</span>
<span class="fc" id="L60">		nar.input(belief);</span>

<span class="fc" id="L62">		mustBelieve(25, result, minFreq, maxFreq, minConf, maxConf);</span>

<span class="fc" id="L64">	}</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>