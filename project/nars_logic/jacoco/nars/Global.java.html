<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>Global.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenNARS Logic Reasoner</a> &gt; <a href="index.source.html" class="el_package">nars</a> &gt; <span class="el_source">Global.java</span></div><h1>Global.java</h1><pre class="source lang-java linenums">/*
 * Parameters.java
 *
 * Copyright (C) 2008  Pei Wang
 *
 * This file is part of Open-NARS.
 *
 * Open-NARS is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * Open-NARS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Open-NARS.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
package nars;


import com.gs.collections.impl.set.mutable.UnifiedSet;
import nars.term.atom.Atom;
import nars.util.data.list.FasterList;
import nars.util.data.map.UnifriedMap;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import java.lang.ref.Reference;
import java.lang.ref.SoftReference;
import java.util.Collection;
import java.util.List;
import java.util.Map;
import java.util.Set;

/**
 * Global NAR operating parameters (static scope)
 * Contains many static values which will eventually be migrated to
 * dynamic parameters specific to a component (allowing independent control).
 * (They began here for developmentconvenience)
 *
 */
<span class="pc" id="L45">public enum Global {</span>
    ;



    public static final float TESTS_TRUTH_ERROR_TOLERANCE = 0.01f;

    //TODO use 'I' for SELf, it is 3 characters shorter
<span class="fc" id="L53">    public static final Atom DEFAULT_SELF = Atom.the(&quot;I&quot;);</span>
    public static final float TRUTH_EPSILON = 0.01f;

<span class="fc" id="L56">    public static float EXECUTION_SATISFACTION_TRESHOLD = 0.0f; //decision threshold is enough for now</span>


//    public static int UNIFICATION_POWER = 400;
//    public static int UNIFICATION_POWERmin = UNIFICATION_POWER;

<span class="fc" id="L62">    public static int DEFAULT_NAL_LEVEL = 8;</span>


<span class="fc" id="L65">    public static boolean EXIT_ON_EXCEPTION = true;</span>


    /** use this for advanced error checking, at the expense of lower performance.
        it is enabled for unit tests automatically regardless of the value here.    */
<span class="fc" id="L70">    public static boolean DEBUG = false;</span>
    //public static final boolean DEBUG_BAG_MASS = false;
    //public static boolean DEBUG_TRACE_EVENTS = false; //shows all emitted events
<span class="fc" id="L73">    public static boolean DEBUG_DERIVATION_STACKTRACES = false; //includes stack trace in task's derivation rule string</span>
    //public static boolean DEBUG_INVALID_SENTENCES = true;
    //public static boolean DEBUG_NONETERNAL_QUESTIONS = false;
<span class="fc" id="L76">    public static boolean DEBUG_TASK_LOG = true; //false disables task history completely</span>
    //public static boolean PRINT_DUPLICATE_DERIVATIONS = false;
    //public static final boolean DEBUG_DERIVATION_GRAPH = false;
    public static final boolean DEBUG_REMOVED_CYCLIC_DERIVATIONS = false;
    public static final boolean DEBUG_REMOVED_INSUFFICIENT_BUDGET_DERIVATIONS = false;
<span class="fc" id="L81">    public static boolean DEBUG_LOG_DERIVING_RULE = true;</span>
<span class="fc" id="L82">    public static boolean DEBUG_DETECT_DUPLICATE_DERIVATIONS = false;</span>
<span class="fc" id="L83">    public static boolean DEBUG_DETECT_DUPLICATE_RULES = false;</span>

    public static final float EXECUTION_DESIRE_EXPECTATION_THRESHOLD = 0.5f;


    //FIELDS BELOW ARE BEING CONVERTED TO DYNAMIC, NO MORE STATIC: ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    //
    //Pei comments: parameters will be separated into a dynamic group and a static group
    //              and the latter contains &quot;personality parameters&quot; that cannot be changed
    //              in the lifetime of the system, though different systems may take different
    //              values. For example, to change HORIZON dynamically will cause inconsistency 
    //              in evidence evaluation.



//    public static final int METRICS_HISTORY_LENGTH = 256;

    /* ---------- logical parameters ---------- */
    /** Evidential Horizon, the amount of future evidence to be considered (during revision).
     * Must be &gt;=1.0, usually 1 .. 2
     */
<span class="fc" id="L104">    public static float HORIZON = 1;</span>



    /** minimum durability and quality necessary for a derivation to form */
<span class="fc" id="L109">    public static float BUDGET_DERIVATION_DURABILITY_THRESHOLD = 0.01f;</span>

    /** minimum difference necessary to indicate a significant modification in budget float number components */
    public static final float BUDGET_PROPAGATION_EPSILON = 0.0001f;


//    /* ---------- default input values ---------- */
//    /** Default expectation for confirmation. */
//    public static final float DEFAULT_CONFIRMATION_EXPECTATION = 0.8f;



    
    
    /* ---------- avoiding repeated reasoning ---------- */
        /** Maximum length of the evidental base of the Stamp, a power of 2 */
    public static final int MAXIMUM_EVIDENTAL_BASE_LENGTH = 10;


    /**
     * The rate of confidence decrease in mental operations Doubt and Hesitate
     * set to zero to disable this feature.
     */
<span class="fc" id="L132">    public static float DISCOUNT_RATE = 0.5f;</span>




    @Deprecated public static final int THREADS = 1; //temporary parameter for setting #threads to use, globally




//    /** how many maximum cycles difference in ocurrence time
//     * are two non-eternal sentences considered equal, if all
//     * other features (term, punctuation, truth, ..) are equal.
//     * this is similar to Duration parameter
//     */
//    public static final int SentenceOcurrenceTimeCyclesEqualityThreshold = 1;




    /** hard upper-bound limit on Compound term complexity;
     * if this is exceeded it may indicate a recursively
     * malformed term due to a serious inference bug */
    public static final int COMPOUND_VOLUME_MAX = 384;

    /** extra debugging checks */
<span class="fc" id="L158">    public static boolean DEBUG_PARANOID = false;</span>

<span class="fc" id="L160">    public static float MAX_TERMUTATIONS_PER_MATCH = 8;</span>
<span class="fc" id="L161">    public static float MIN_TERMUTATIONS_PER_MATCH = 1;</span>
    public static final boolean DEBUG_NON_INPUT_ANSWERED_QUESTIONS = false;


//    public static float TEMPORAL_INDUCTION_CHAIN_SAMPLE_DEPTH(float taskPriority) {
//        return 0.02f + taskPriority * 0.02f; //search up to 4% of concepts
//    }
//
//    public static int TEMPORAL_INDUCTION_CHAIN_SAMPLES = 1; //normal inference rule , this should be 10 to restore 1.6.1 behavior
//


    @NotNull
    public static &lt;K,V&gt; Map&lt;K, V&gt; newHashMap() {
<span class="fc" id="L175">        return newHashMap(0);</span>
    }

    @NotNull
    public static &lt;K, V&gt; Map&lt;K,V&gt; newHashMap(int capacity) {
        //return new UnifiedMap(capacity);
<span class="fc" id="L181">        return new UnifriedMap(capacity);</span>

        //return new FasterHashMap(capacity);
        //return new FastMap&lt;&gt;(); //javolution http://javolution.org/apidocs/javolution/util/FastMap.html
        //return new HashMap&lt;&gt;(capacity);
        //return new LinkedHashMap(capacity);
    }

    /** copy */
    @NotNull
    public static &lt;X,Y&gt; Map&lt;X, Y&gt; newHashMap(Map&lt;X, Y&gt; xy) {
<span class="nc" id="L192">        return new UnifriedMap(xy);</span>
    }

    @NotNull
    public static &lt;X&gt; List&lt;X&gt; newArrayList() {
<span class="fc" id="L197">        return new FasterList&lt;&gt;(); //GS</span>
        //return new ArrayList();
    }

    @NotNull
    public static &lt;X&gt; List&lt;X&gt; newArrayList(int capacity) {

<span class="fc" id="L204">        return new FasterList(capacity);</span>
        //return new ArrayList(capacity);
    }

    @NotNull
    public static &lt;X&gt; Set&lt;X&gt; newHashSet(int capacity) {
<span class="fc" id="L210">        return new UnifiedSet(capacity);</span>
        //return new SimpleHashSet(capacity);
        //return new HashSet(capacity);
        //return new LinkedHashSet(capacity);
    }

    @NotNull
    public static &lt;X&gt; Set&lt;X&gt; newHashSet(@NotNull Collection&lt;X&gt; values) {
<span class="nc" id="L218">        Set&lt;X&gt; s = newHashSet(values.size());</span>
<span class="nc" id="L219">        s.addAll(values);</span>
<span class="nc" id="L220">        return s;</span>
    }


    @Nullable
    public static &lt;C&gt; Reference&lt;C&gt; reference(@Nullable C s) {
<span class="fc bfc" id="L226" title="All 2 branches covered.">        if (s == null) return null;</span>
<span class="fc" id="L227">        return new SoftReference(s);</span>
    }
    @Nullable
    public static &lt;C&gt; C dereference(@Nullable Reference&lt;C&gt; s) {
<span class="fc bfc" id="L231" title="All 2 branches covered.">        if (s == null) return null;</span>
<span class="fc" id="L232">        return s.get();</span>
    }





    //TODO eventually sort out in case that a parameter is not needed anymore
//
//    public static float CURIOSITY_BUSINESS_THRESHOLD=0.15f; //dont be curious if business is above
//    public static float CURIOSITY_PRIORITY_THRESHOLD=0.3f; //0.3f in 1.6.3
//    public static float CURIOSITY_CONFIDENCE_THRESHOLD=0.8f;
//    public static float CURIOSITY_DESIRE_CONFIDENCE_MUL=0.1f; //how much risk is the system allowed to take just to fullfill its hunger for knowledge?
//    public static float CURIOSITY_DESIRE_PRIORITY_MUL=0.1f; //how much priority should curiosity have?
//    public static float CURIOSITY_DESIRE_DURABILITY_MUL=0.3f; //how much durability should curiosity have?
//    public static boolean CURIOSITY_FOR_OPERATOR_ONLY=false; //for Peis concern that it may be overkill to allow it for all &lt;a =/&gt; b&gt; statement, so that a has to be an operator
//    public static boolean CURIOSITY_ALSO_ON_LOW_CONFIDENT_HIGH_PRIORITY_BELIEF=true;
//
//    //public static float HAPPY_EVENT_HIGHER_THRESHOLD=0.75f;
//    public static float HAPPY_EVENT_CHANGE_THRESHOLD =0.01f;
//    //public static float BUSY_EVENT_HIGHER_THRESHOLD=0.9f; //1.6.4, step by step^, there is already enough new things ^^
<span class="fc" id="L253">    public static float BUSY_EVENT_CHANGE_THRESHOLD =0.5f;</span>
//    public static boolean REFLECT_META_HAPPY_GOAL = false;
//    public static boolean REFLECT_META_BUSY_BELIEF = false;
//    public static boolean CONSIDER_REMIND=true;

//
//    public static boolean QUESTION_GENERATION_ON_DECISION_MAKING=true;
//    public static boolean HOW_QUESTION_GENERATION_ON_DECISION_MAKING=true;
//
//    public static float ANTICIPATION_CONFIDENCE=0.95f;
    




}

</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>