<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>TaskQueue.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">OpenNARS Logic Reasoner</a> &gt; <a href="index.source.html" class="el_package">nars.task.flow</a> &gt; <span class="el_source">TaskQueue.java</span></div><h1>TaskQueue.java</h1><pre class="source lang-java linenums">package nars.task.flow;

import nars.NAR;
import nars.task.Task;
import org.jetbrains.annotations.NotNull;
import org.jetbrains.annotations.Nullable;

import java.util.ArrayDeque;
import java.util.Collection;
import java.util.Collections;
import java.util.function.Consumer;

/** an input that generates tasks in batches, which are stored in a buffer */
public class TaskQueue extends ArrayDeque&lt;Task&gt; implements Input , Consumer&lt;Task&gt; {

    //private On reg=null;

    public TaskQueue() {
<span class="fc" id="L19">        this(1);</span>
<span class="fc" id="L20">    }</span>

    public TaskQueue(int initialCapacity) {
<span class="fc" id="L23">        super(initialCapacity);</span>
<span class="fc" id="L24">    }</span>

    public TaskQueue(@NotNull Collection&lt;Task&gt; x) {
<span class="fc" id="L27">        super(x);</span>
<span class="fc" id="L28">    }</span>
    public TaskQueue(@NotNull Task[] x) {
<span class="nc" id="L30">        super(x.length);</span>
<span class="nc" id="L31">        Collections.addAll(this, x);</span>
<span class="nc" id="L32">    }</span>

    /*protected int accept(Iterator&lt;Task&gt; tasks) {
        if (tasks == null) return 0;
        int count = 0;
        while (tasks.hasNext()) {
            Task t = tasks.next();
            if (t==null)
                continue;
            queue.add(t);
            count++;
        }
        return count;
    }*/

    @Override
    public void accept(@Nullable Task task) {
<span class="nc bnc" id="L49" title="All 2 branches missed.">        if (task==null) return;</span>

<span class="nc" id="L51">        add(task);</span>
<span class="nc" id="L52">    }</span>

    @Nullable
    @Override
    public Task get() {
<span class="fc bfc" id="L57" title="All 2 branches covered.">        if (!isEmpty()) {</span>
<span class="fc" id="L58">            return removeFirst();</span>
        }
<span class="fc" id="L60">        return null;</span>
    }

    public void addIfNotNull(@Nullable Task task) {
<span class="nc bnc" id="L64" title="All 2 branches missed.">        if (task!=null)</span>
<span class="nc" id="L65">            add(task);</span>
<span class="nc" id="L66">    }</span>

    public void input(@NotNull NAR nar) {
<span class="nc" id="L69">        nar.input((Input)this);</span>
<span class="nc" id="L70">    }</span>


//    @Override
//    public void stop() {
//        clear();
//    }



}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.4.201502262128</span></div></body></html>